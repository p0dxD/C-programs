Jose Rodriguez, joserod, 107927299, Score: 64/100
Homework 3 - Dynamic Memory Allocator

Compilation Tests (5/5)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/0     Check for illegal functions                                     ✔              EXIT_SUCCESS                             Checking files src/sfmm.c for illegal functions
### No illegal functions found
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5/5     Compilation with -Wall -Werror                                  ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Basic Tests (21/30)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/2     Malloc an Integer                                               ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/2     Malloc an assign an Integer value                               ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/2     Malloc a second value & assign                                  ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/2     Check integer value is still correct                            ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/2     Free block and check header/footer values                       ✔                                                       +------------------+------------------+------+
 |          8 bytes |         32 bytes | 0001 | <- Header 0x7f261b1d5038
 +------------------+------------------+------+
 | Payload:         16 bytes                  |
 +------------------+------------------+------+
 |           unused |         32 bytes | 0001 | <- Footer 0x7f261b1d5050
 +------------------+------------------+------+
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/2     Allocate a large block                                          ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1/1     Block Size Check: char                                          ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1/1     Block Size Check: short                                         ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1/1     Block Size Check: int                                           ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1/1     Block Size Check: double                                        ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1/1     Block Size Check: long double                                   ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1/1     Block Size Check: struct of 7737 bytes                          ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/3     Malloc for more memory than initialized                         ✘              SIGSEGV                                  Segmentation fault (core dumped)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/2     Malloc for more memory than 4GB                                 ✘              SIGSEGV                                  Segmentation fault (core dumped)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/4     external fragmentation. sf_sbrk for more space                  ✔                                                       +------------------+------------------+------+
 |        256 bytes |        272 bytes | 0001 | <- Header 0x7f91ee05e038
 +------------------+------------------+------+
 | Payload:        256 bytes                  |
 +------------------+------------------+------+
 |           unused |        272 bytes | 0001 | <- Footer 0x7f91ee05e140
 +------------------+------------------+------+

ERROR: sbrk did not move to obtain more space.
ERROR: sbrk obtain more space in 0, rather than 4096.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     Check next and prev pointers of free block at head of list      ✔                                                       +------------------+------------------+------+
 |          8 bytes |         32 bytes | 0001 | <- Header 0x7f9597711038
 +------------------+------------------+------+
 | Payload:         16 bytes                  |
 +------------------+------------------+------+
 |           unused |         32 bytes | 0001 | <- Footer 0x7f9597711050
 +------------------+------------------+------+
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Managing Memory (0/5)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/5     Managing Memory?  No sbrk in small sizes or per request         ✔                                                       ERROR: sbrk moved to obtain more space when not needed. before: 0x7fd4432dc010, after: 0x7fd4432dd018
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Calloc and Realloc (6/15)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     callocTest                                                      ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/2     realloc to size 0, expect NULL                                  ✘              SIGSEGV                                  Segmentation fault (core dumped)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/5     realloc to smaller size                                         ✔                                                       +------------------+------------------+------+
 |         25 bytes |         48 bytes | 0001 | <- Header 0x7fab0ec23068
 +------------------+------------------+------+
 | Payload:         32 bytes                  |
 +------------------+------------------+------+
 |           unused |         48 bytes | 0001 | <- Footer 0x7fab0ec23090
 +------------------+------------------+------+

ERROR: Payload contents not copied correctly into new block.
50
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/5     realloc to larger size                                          ✔                                                       +------------------+------------------+------+
 |        100 bytes |        128 bytes | 0001 | <- Header 0x7fb2ab451068
 +------------------+------------------+------+
 | Payload:        112 bytes                  |
 +------------------+------------------+------+
 |           unused |        128 bytes | 0001 | <- Footer 0x7fb2ab4510e0
 +------------------+------------------+------+

ERROR: Payload contents not copied correctly into new block.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

List Management and Block Placement (7/20)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2/5     LIFO & FIRST                                                    ✔                                                       +------------------+------------------+------+
 |        256 bytes |        272 bytes | 0001 | <- Header 0x7f3044f61038
 +------------------+------------------+------+
 | Payload:        256 bytes                  |
 +------------------+------------------+------+
 |           unused |        272 bytes | 0001 | <- Footer 0x7f3044f61140
 +------------------+------------------+------+

ERROR: Second allocation. sf_malloc(64) placed in wrong position.
Expected free list sizes: LIFO: (80) -> (528) -> (1040) -> (32) -> (32) -> FREE (~48 bytes) -> NULL
Your initial free list:
[1;34mSnapshot[0m: Explicit 8 8200
[0;33m# 2016-03-23 11:08
[0m0x7f3044f61148 80
0x7f3044f616c8 528
0x7f3044f61298 1040
0x7f3044f61018 32
0x7f3044f611e8 32
0x7f3044f62028 4080
First allocation of sf_malloc(970)
Second allocation of sf_malloc(64)
After second allocation of sf_malloc(64)
[1;34mSnapshot[0m: Explicit 8 8200
[0;33m# 2016-03-23 11:08
[0m0x7f3044f616c8 528
0x7f3044f61678 48
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5/5     LIFO & NEXT                                                     ✔                                                       +------------------+------------------+------+
 |        256 bytes |        272 bytes | 0001 | <- Header 0x7fccb89d0038
 +------------------+------------------+------+
 | Payload:        256 bytes                  |
 +------------------+------------------+------+
 |           unused |        272 bytes | 0001 | <- Footer 0x7fccb89d0140
 +------------------+------------------+------+

Expected free list sizes: LIFO: (80) -> (528) -> (1040) -> (32) -> (32) -> FREE (~48 bytes) -> NULL
Your initial free list:
[1;34mSnapshot[0m: Explicit 8 8200
[0;33m# 2016-03-23 11:08
[0m0x7fccb89d0148 80
0x7fccb89d06c8 528
0x7fccb89d0298 1040
0x7fccb89d0018 32
0x7fccb89d01e8 32
0x7fccb89d1028 4080
First allocation of sf_malloc(970)
Second allocation of sf_malloc(64)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/5     ADDR & FIRST                                                    ✔                                                       +------------------+------------------+------+
 |        256 bytes |        272 bytes | 0001 | <- Header 0x7f11257a6038
 +------------------+------------------+------+
 | Payload:        256 bytes                  |
 +------------------+------------------+------+
 |           unused |        272 bytes | 0001 | <- Footer 0x7f11257a6140
 +------------------+------------------+------+

ERROR: First allocation. sf_malloc(970) placed in wrong position.
[1;31mERROR: [0mSnapshot encountered an allocated block in the freelist...
[1;31mERROR: [0mAborting snapshot function.
ERROR: Second allocation. sf_malloc(64) placed in wrong position.
[1;31mERROR: [0mSnapshot encountered an allocated block in the freelist...
[1;31mERROR: [0mAborting snapshot function.
Expected free list sizes: ADDR: (32) -> (80) -> (32) -> (1040) -> (528) -> FREE (~48 bytes)-> NULL
Your initial free list:
[1;34mSnapshot[0m: Explicit 8 8200
[0;33m# 2016-03-23 11:08
[0m0x7f11257a6018 32
0x7f11257a6148 80
First allocation of sf_malloc(970)
After first allocation of sf_malloc(970)
[1;34mSnapshot[0m: Explicit 8 12296
[0;33m# 2016-03-23 11:08
[0m0x7f11257a6018 32
Second allocation of sf_malloc(64)
After second allocation of sf_malloc(64)
[1;34mSnapshot[0m: Explicit 8 12296
[0;33m# 2016-03-23 11:08
[0m0x7f11257a6018 32
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
0/5     ADDR & NEXT                                                     ✔                                                       +------------------+------------------+------+
 |        256 bytes |        272 bytes | 0001 | <- Header 0x7f5a56a42038
 +------------------+------------------+------+
 | Payload:        256 bytes                  |
 +------------------+------------------+------+
 |           unused |        272 bytes | 0001 | <- Footer 0x7f5a56a42140
 +------------------+------------------+------+

ERROR: First allocation. sf_malloc(970) placed in wrong position.
[1;31mERROR: [0mSnapshot encountered an allocated block in the freelist...
[1;31mERROR: [0mAborting snapshot function.
ERROR: Second allocation. sf_malloc(64) placed in wrong position.
[1;31mERROR: [0mSnapshot encountered an allocated block in the freelist...
[1;31mERROR: [0mAborting snapshot function.
Expected free list sizes: ADDR: (32) -> (80) -> (32) -> (1040) -> (528) -> FREE (~48 bytes)-> NULL
Your initial free list:
[1;34mSnapshot[0m: Explicit 8 8200
[0;33m# 2016-03-23 11:08
[0m0x7f5a56a42018 32
0x7f5a56a42148 80
First allocation of sf_malloc(970)
After first allocation of sf_malloc(970)
[1;34mSnapshot[0m: Explicit 8 12296
[0;33m# 2016-03-23 11:08
[0m0x7f5a56a42018 32
Second allocation of sf_malloc(64)
After second allocation of sf_malloc(64)
[1;34mSnapshot[0m: Explicit 8 12296
[0;33m# 2016-03-23 11:08
[0m0x7f5a56a42018 32
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Coalescing (15/15)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     Coalesce Case 1: no coalescing                                  ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     Coalesce Case 2: Free block before                              ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     Coalesce case 3: Free after                                     ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     Coalesce case 4: free before and after                          ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3/3     Coalesce edge case 1: Do not coalesce before start of heap      ✔                                                       +------------------+------------------+------+
 |        135 bytes |        160 bytes | 0001 | <- Header 0x7fc9f11b7068
 +------------------+------------------+------+
 | Payload:        144 bytes                  |
 +------------------+------------------+------+
 |           unused |        160 bytes | 0001 | <- Footer 0x7fc9f11b7100
 +------------------+------------------+------+
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Stress Test (10/10)
Score   Test Name                                                       Test Executed? Notes                                    Output
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
10/10   Stress test                                                     ✔                                                       
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

